// plugin, library-level build.gradle
group 'io.anyline.flutter'
version '1.0'

buildscript {
    ext {
        anyline_sdk_version = "38.0.1"
        kotlin_version = "1.6.10"
    }
    repositories {
        google()
        jcenter()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:3.5.0'
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

rootProject.allprojects {
    repositories {
        google()
        jcenter()
        maven {
            url 'https://anylinesdk.blob.core.windows.net/maven/'
        }
    }
}

apply plugin: 'com.android.library'
apply plugin: 'kotlin-android' // When converting Java files to Kotlin, make sure to move the Kotlin files from "src/main/java" to "src/main/kotlin/"

android {
    compileSdkVersion 31

    defaultConfig {
        minSdkVersion 21
    }
    lintOptions {
        disable 'InvalidPackage'
    }
    compileOptions {
        sourceCompatibility = 1.8
        targetCompatibility = 1.8
    }
    dependencies {

        /* To pull the Anyline Sdk dependency from maven, use this line */
//        api "io.anyline:anylinesdk:$anyline_sdk_version"

        /* To build the Anyline Sdk locally, use this line. Other changes necessary:
         * This repo:
         * - In example/android/settings.gradle add the AnylineSdk Project & Project Dir
         * AnylineSdk repo:
         * - In AnylineSdk/build.gradle the following changes:
         *   - Uncomment "ndkPath project.ndkDir" and use "ndkVersion '21.3.6528147'" instead
         *   - Use correct "targetSdkVersion" (i.e. 31)
         *   - In "buildTypes { release {...}, debug {...} }" rename all "buildConfigField"s because
         *     there is some kind of conflict with the VERSION_CODE and VERSION_NAME. Rename to
         *     VERSION_CODE_ANYLINE_SDK & VERSION_NAME_ANYLINE_SDK and replace usage like
         *     "at.nineyards.anyline.BuildConfig.VERSION_NAME" with the correct one.
         * */
        api project(':AnylineSdk')

        implementation 'com.google.android.material:material:1.4.0-rc01'
    }
}

dependencies {
    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
    implementation 'androidx.annotation:annotation:1.1.0'
    implementation 'androidx.appcompat:appcompat:1.2.0'
    implementation 'androidx.multidex:multidex:2.0.1'
}
